<script>
  const usernameInput = document.getElementById("username");
  const passwordInput = document.getElementById("password");
  const message = document.getElementById("message");

  // ✅ Web Audio API 기반 타자 소리
  let audioCtx;
  function playTypeSound() {
    if (!audioCtx) {
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    }

    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();

    osc.type = "square";         
    osc.frequency.value = 800;   // 조금 더 낮은 음
    gain.gain.value = 0.05;      // 볼륨 키움

    osc.connect(gain);
    gain.connect(audioCtx.destination);

    osc.start();
    osc.stop(audioCtx.currentTime + 0.08); // 0.08초 유지

    // 부드럽게 사라지도록
    gain.gain.setValueAtTime(0.05, audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.08);
  }

  usernameInput.addEventListener("input", playTypeSound);
  passwordInput.addEventListener("input", playTypeSound);

  // 로그인 함수
  function login() {
    const username = usernameInput.value.trim().toLowerCase();
    const password = passwordInput.value.trim();

    const accounts = {
      "god2dog@korea.kr": { password: "25690", page: "sin.html" },
      "4bigs@korea.kr": { password: "2410080142", page: "sa.html" }
    };

    if (accounts[username] && accounts[username].password === password) {
      // 로그인 성공
      message.textContent = "승인!";
      message.className = "message success";
      message.style.display = "block";

      // 1초 후 페이지 이동
      setTimeout(() => {
        window.location.href = accounts[username].page;
      }, 1000);
    } else {
      // 로그인 실패
      message.textContent = "경고: 아이디 또는 비밀번호 불일치";
      message.className = "message error";
      message.style.display = "block";
    }
  }
</script>
